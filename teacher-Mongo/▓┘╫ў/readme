ys@ys-ubuntu:~$ ls
atom-amd64.deb  Documents  mongodb-linux-x86_64-ubuntu1604-3.2.8.tgz  node-v4.4.7-linux-x64.tar.xz  Public     Videos
Desktop         Downloads  Music                                      Pictures                      Templates
ys@ys-ubuntu:~$ mongo
MongoDB shell version: 3.2.8
connecting to: test
Welcome to the MongoDB shell.
For interactive help, type "help".
For more comprehensive documentation, see
	http://docs.mongodb.org/
Questions? Try the support group
	http://groups.google.com/group/mongodb-user
Server has startup warnings: 
2016-10-17T09:56:58.121+0800 I CONTROL  [initandlisten] 
2016-10-17T09:56:58.121+0800 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/enabled is 'always'.
2016-10-17T09:56:58.122+0800 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2016-10-17T09:56:58.122+0800 I CONTROL  [initandlisten] 
2016-10-17T09:56:58.122+0800 I CONTROL  [initandlisten] ** WARNING: /sys/kernel/mm/transparent_hugepage/defrag is 'always'.
2016-10-17T09:56:58.122+0800 I CONTROL  [initandlisten] **        We suggest setting it to 'never'
2016-10-17T09:56:58.122+0800 I CONTROL  [initandlisten] 
> help
	db.help()                    help on db methods
	db.mycoll.help()             help on collection methods
	sh.help()                    sharding helpers
	rs.help()                    replica set helpers
	help admin                   administrative help
	help connect                 connecting to a db help
	help keys                    key shortcuts
	help misc                    misc things to know
	help mr                      mapreduce

	show dbs                     show database names
	show collections             show collections in current database
	show users                   show users in current database
	show profile                 show most recent system.profile entries with time >= 1ms
	show logs                    show the accessible logger names
	show log [name]              prints out the last segment of log in memory, 'global' is default
	use <db_name>                set current database
	db.foo.find()                list objects in collection foo
	db.foo.find( { a : 1 } )     list objects in foo where a == 1
	it                           result of the last line evaluated; use to further iterate
	DBQuery.shellBatchSize = x   set default number of items to display on shell
	exit                         quit the mongo shell
> 
> show dbs
local  0.000GB
> db
test
> show collections
> use stu
switched to db stu
> db 
stu
> show dbs
local  0.000GB
> db
stu
> db.firstClass.insert({"name":"lisi", "age": 10})
WriteResult({ "nInserted" : 1 })
> show dbs
local  0.000GB
stu    0.000GB
> db.firstClass.insert({"name":"zhangsan", "age": 12, "score": 88})
WriteResult({ "nInserted" : 1 })
> db.dropDatabase()
{ "dropped" : "stu", "ok" : 1 }
> show dbs
local  0.000GB
> db
stu
> help
	db.help()                    help on db methods
	db.mycoll.help()             help on collection methods
	sh.help()                    sharding helpers
	rs.help()                    replica set helpers
	help admin                   administrative help
	help connect                 connecting to a db help
	help keys                    key shortcuts
	help misc                    misc things to know
	help mr                      mapreduce

	show dbs                     show database names
	show collections             show collections in current database
	show users                   show users in current database
	show profile                 show most recent system.profile entries with time >= 1ms
	show logs                    show the accessible logger names
	show log [name]              prints out the last segment of log in memory, 'global' is default
	use <db_name>                set current database
	db.foo.find()                list objects in collection foo
	db.foo.find( { a : 1 } )     list objects in foo where a == 1
	it                           result of the last line evaluated; use to further iterate
	DBQuery.shellBatchSize = x   set default number of items to display on shell
	exit                         quit the mongo shell
> db.help()
DB methods:
	db.adminCommand(nameOrDocument) - switches to 'admin' db, and runs command [ just calls db.runCommand(...) ]
	db.auth(username, password)
	db.cloneDatabase(fromhost)
	db.commandHelp(name) returns the help for the command
	db.copyDatabase(fromdb, todb, fromhost)
	db.createCollection(name, { size : ..., capped : ..., max : ... } )
	db.createUser(userDocument)
	db.currentOp() displays currently executing operations in the db
	db.dropDatabase()
	db.eval() - deprecated
	db.fsyncLock() flush data to disk and lock server for backups
	db.fsyncUnlock() unlocks server following a db.fsyncLock()
	db.getCollection(cname) same as db['cname'] or db.cname
	db.getCollectionInfos([filter]) - returns a list that contains the names and options of the db's collections
	db.getCollectionNames()
	db.getLastError() - just returns the err msg string
	db.getLastErrorObj() - return full status object
	db.getLogComponents()
	db.getMongo() get the server connection object
	db.getMongo().setSlaveOk() allow queries on a replication slave server
	db.getName()
	db.getPrevError()
	db.getProfilingLevel() - deprecated
	db.getProfilingStatus() - returns if profiling is on and slow threshold
	db.getReplicationInfo()
	db.getSiblingDB(name) get the db at the same server as this one
	db.getWriteConcern() - returns the write concern used for any operations on this db, inherited from server object if set
	db.hostInfo() get details about the server's host
	db.isMaster() check replica primary status
	db.killOp(opid) kills the current operation in the db
	db.listCommands() lists all the db commands
	db.loadServerScripts() loads all the scripts in db.system.js
	db.logout()
	db.printCollectionStats()
	db.printReplicationInfo()
	db.printShardingStatus()
	db.printSlaveReplicationInfo()
	db.dropUser(username)
	db.repairDatabase()
	db.resetError()
	db.runCommand(cmdObj) run a database command.  if cmdObj is a string, turns it into { cmdObj : 1 }
	db.serverStatus()
	db.setLogLevel(level,<component>)
	db.setProfilingLevel(level,<slowms>) 0=off 1=slow 2=all
	db.setWriteConcern( <write concern doc> ) - sets the write concern for writes to the db
	db.unsetWriteConcern( <write concern doc> ) - unsets the write concern for writes to the db
	db.setVerboseShell(flag) display extra information in shell output
	db.shutdownServer()
	db.stats()
	db.version() current version of the server
> help
	db.help()                    help on db methods
	db.mycoll.help()             help on collection methods
	sh.help()                    sharding helpers
	rs.help()                    replica set helpers
	help admin                   administrative help
	help connect                 connecting to a db help
	help keys                    key shortcuts
	help misc                    misc things to know
	help mr                      mapreduce

	show dbs                     show database names
	show collections             show collections in current database
	show users                   show users in current database
	show profile                 show most recent system.profile entries with time >= 1ms
	show logs                    show the accessible logger names
	show log [name]              prints out the last segment of log in memory, 'global' is default
	use <db_name>                set current database
	db.foo.find()                list objects in collection foo
	db.foo.find( { a : 1 } )     list objects in foo where a == 1
	it                           result of the last line evaluated; use to further iterate
	DBQuery.shellBatchSize = x   set default number of items to display on shell
	exit                         quit the mongo shell
> db.mycoll.help()
DBCollection help
	db.mycoll.find().help() - show DBCursor help
	db.mycoll.bulkWrite( operations, <optional params> ) - bulk execute write operations, optional parameters are: w, wtimeout, j
	db.mycoll.count( query = {}, <optional params> ) - count the number of documents that matches the query, optional parameters are: limit, skip, hint, maxTimeMS
	db.mycoll.copyTo(newColl) - duplicates collection by copying all documents to newColl; no indexes are copied.
	db.mycoll.convertToCapped(maxBytes) - calls {convertToCapped:'mycoll', size:maxBytes}} command
	db.mycoll.createIndex(keypattern[,options])
	db.mycoll.createIndexes([keypatterns], <options>)
	db.mycoll.dataSize()
	db.mycoll.deleteOne( filter, <optional params> ) - delete first matching document, optional parameters are: w, wtimeout, j
	db.mycoll.deleteMany( filter, <optional params> ) - delete all matching documents, optional parameters are: w, wtimeout, j
	db.mycoll.distinct( key, query, <optional params> ) - e.g. db.mycoll.distinct( 'x' ), optional parameters are: maxTimeMS
	db.mycoll.drop() drop the collection
	db.mycoll.dropIndex(index) - e.g. db.mycoll.dropIndex( "indexName" ) or db.mycoll.dropIndex( { "indexKey" : 1 } )
	db.mycoll.dropIndexes()
	db.mycoll.ensureIndex(keypattern[,options]) - DEPRECATED, use createIndex() instead
	db.mycoll.explain().help() - show explain help
	db.mycoll.reIndex()
	db.mycoll.find([query],[fields]) - query is an optional query filter. fields is optional set of fields to return.
	                                              e.g. db.mycoll.find( {x:77} , {name:1, x:1} )
	db.mycoll.find(...).count()
	db.mycoll.find(...).limit(n)
	db.mycoll.find(...).skip(n)
	db.mycoll.find(...).sort(...)
	db.mycoll.findOne([query], [fields], [options], [readConcern])
	db.mycoll.findOneAndDelete( filter, <optional params> ) - delete first matching document, optional parameters are: projection, sort, maxTimeMS
	db.mycoll.findOneAndReplace( filter, replacement, <optional params> ) - replace first matching document, optional parameters are: projection, sort, maxTimeMS, upsert, returnNewDocument
	db.mycoll.findOneAndUpdate( filter, update, <optional params> ) - update first matching document, optional parameters are: projection, sort, maxTimeMS, upsert, returnNewDocument
	db.mycoll.getDB() get DB object associated with collection
	db.mycoll.getPlanCache() get query plan cache associated with collection
	db.mycoll.getIndexes()
	db.mycoll.group( { key : ..., initial: ..., reduce : ...[, cond: ...] } )
	db.mycoll.insert(obj)
	db.mycoll.insertOne( obj, <optional params> ) - insert a document, optional parameters are: w, wtimeout, j
	db.mycoll.insertMany( [objects], <optional params> ) - insert multiple documents, optional parameters are: w, wtimeout, j
	db.mycoll.mapReduce( mapFunction , reduceFunction , <optional params> )
	db.mycoll.aggregate( [pipeline], <optional params> ) - performs an aggregation on a collection; returns a cursor
	db.mycoll.remove(query)
	db.mycoll.replaceOne( filter, replacement, <optional params> ) - replace the first matching document, optional parameters are: upsert, w, wtimeout, j
	db.mycoll.renameCollection( newName , <dropTarget> ) renames the collection.
	db.mycoll.runCommand( name , <options> ) runs a db command with the given name where the first param is the collection name
	db.mycoll.save(obj)
	db.mycoll.stats({scale: N, indexDetails: true/false, indexDetailsKey: <index key>, indexDetailsName: <index name>})
	db.mycoll.storageSize() - includes free space allocated to this collection
	db.mycoll.totalIndexSize() - size in bytes of all the indexes
	db.mycoll.totalSize() - storage allocated for all data and indexes
	db.mycoll.update( query, object[, upsert_bool, multi_bool] ) - instead of two flags, you can pass an object with fields: upsert, multi
	db.mycoll.updateOne( filter, update, <optional params> ) - update the first matching document, optional parameters are: upsert, w, wtimeout, j
	db.mycoll.updateMany( filter, update, <optional params> ) - update all matching documents, optional parameters are: upsert, w, wtimeout, j
	db.mycoll.validate( <full> ) - SLOW
	db.mycoll.getShardVersion() - only for use with sharding
	db.mycoll.getShardDistribution() - prints statistics about data distribution in the cluster
	db.mycoll.getSplitKeysForChunks( <maxChunkSize> ) - calculates split points over all chunks and returns splitter function
	db.mycoll.getWriteConcern() - returns the write concern used for any operations on this collection, inherited from server/db if set
	db.mycoll.setWriteConcern( <write concern doc> ) - sets the write concern for writes to the collection
	db.mycoll.unsetWriteConcern( <write concern doc> ) - unsets the write concern for writes to the collection
> 
> use stu
switched to db stu
> db.firstClass.insert({"name":"lisi"})
WriteResult({ "nInserted" : 1 })
> show collections
firstClass
> db.firstClass.drop()
true
> show collections
> db.firstClass.insert({"name":"lisi"})
WriteResult({ "nInserted" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "name" : "lisi" }
> db.firstClass.insert({"name":"zhangsan", "age":10})
WriteResult({ "nInserted" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "name" : "lisi" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 10 }
> doc = {"name":"sun", "age": 20, "score": 100}
{ "name" : "sun", "age" : 20, "score" : 100 }
> db.firstClass.insert(doc)
WriteResult({ "nInserted" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "name" : "lisi" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 10 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 20, "score" : 100 }
> doc = {"name":"lili", "age": 20, "hobby":["read", "write", "sleep"]}
{
	"name" : "lili",
	"age" : 20,
	"hobby" : [
		"read",
		"write",
		"sleep"
	]
}
> db.firstClass.insert(doc)
WriteResult({ "nInserted" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "name" : "lisi" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 10 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 20, "score" : 100 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 20, "hobby" : [ "read", "write", "sleep" ] }
> doc = {"name":"lili", "age": 20, "hobby":["read", "write", "sleep"], "address":{ "country":"china", "city": "beijing" }}
{
	"name" : "lili",
	"age" : 20,
	"hobby" : [
		"read",
		"write",
		"sleep"
	],
	"address" : {
		"country" : "china",
		"city" : "beijing"
	}
}
> db.firstClass.insert(doc)
WriteResult({ "nInserted" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "name" : "lisi" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 10 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 20, "score" : 100 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 20, "hobby" : [ "read", "write", "sleep" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 20, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
> 
> db.firstClass.update({"name":"zhangsan"}, {$set: {"age": 30}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "name" : "lisi" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 30 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 20, "score" : 100 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 20, "hobby" : [ "read", "write", "sleep" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 20, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
> db.firstClass.update({"name":"lisi"}, {$set: {"age": 30}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.update({"name":"lili"}, {$set: {"age": 30}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "name" : "lisi", "age" : 30 }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 30 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 20, "score" : 100 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 30, "hobby" : [ "read", "write", "sleep" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 20, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
> db.firstClass.update({"name":"lili"}, {$set: {"age": 40}},false, true)
WriteResult({ "nMatched" : 2, "nUpserted" : 0, "nModified" : 2 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "name" : "lisi", "age" : 30 }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 30 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 20, "score" : 100 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
> db.firstClass.update({"name":"xiaoming"}, {$set: {"age": 40}},true, false)
WriteResult({
	"nMatched" : 0,
	"nUpserted" : 1,
	"nModified" : 0,
	"_id" : ObjectId("58044283428f947c078fa6d3")
})
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "name" : "lisi", "age" : 30 }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 30 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 20, "score" : 100 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
> db.firstClass.save({ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "name":"lisi", "age":30, "score": 99})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "name" : "lisi", "age" : 30, "score" : 99 }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 30 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 20, "score" : 100 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
> db.firstClass.save({ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender": "male"})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 30 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 20, "score" : 100 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
> db.firstClass.save({"name":"zhaosi", "age": 8})
WriteResult({ "nInserted" : 1 })
> db.firstClass.update({"name":"zhangsan", "age":30}, {$inc: {"age": 5}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 20, "score" : 100 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaosi", "age" : 8 }
> 
> help
	db.help()                    help on db methods
	db.mycoll.help()             help on collection methods
	sh.help()                    sharding helpers
	rs.help()                    replica set helpers
	help admin                   administrative help
	help connect                 connecting to a db help
	help keys                    key shortcuts
	help misc                    misc things to know
	help mr                      mapreduce

	show dbs                     show database names
	show collections             show collections in current database
	show users                   show users in current database
	show profile                 show most recent system.profile entries with time >= 1ms
	show logs                    show the accessible logger names
	show log [name]              prints out the last segment of log in memory, 'global' is default
	use <db_name>                set current database
	db.foo.find()                list objects in collection foo
	db.foo.find( { a : 1 } )     list objects in foo where a == 1
	it                           result of the last line evaluated; use to further iterate
	DBQuery.shellBatchSize = x   set default number of items to display on shell
	exit                         quit the mongo shell
> db.mycolle.help()
DBCollection help
	db.mycolle.find().help() - show DBCursor help
	db.mycolle.bulkWrite( operations, <optional params> ) - bulk execute write operations, optional parameters are: w, wtimeout, j
	db.mycolle.count( query = {}, <optional params> ) - count the number of documents that matches the query, optional parameters are: limit, skip, hint, maxTimeMS
	db.mycolle.copyTo(newColl) - duplicates collection by copying all documents to newColl; no indexes are copied.
	db.mycolle.convertToCapped(maxBytes) - calls {convertToCapped:'mycolle', size:maxBytes}} command
	db.mycolle.createIndex(keypattern[,options])
	db.mycolle.createIndexes([keypatterns], <options>)
	db.mycolle.dataSize()
	db.mycolle.deleteOne( filter, <optional params> ) - delete first matching document, optional parameters are: w, wtimeout, j
	db.mycolle.deleteMany( filter, <optional params> ) - delete all matching documents, optional parameters are: w, wtimeout, j
	db.mycolle.distinct( key, query, <optional params> ) - e.g. db.mycolle.distinct( 'x' ), optional parameters are: maxTimeMS
	db.mycolle.drop() drop the collection
	db.mycolle.dropIndex(index) - e.g. db.mycolle.dropIndex( "indexName" ) or db.mycolle.dropIndex( { "indexKey" : 1 } )
	db.mycolle.dropIndexes()
	db.mycolle.ensureIndex(keypattern[,options]) - DEPRECATED, use createIndex() instead
	db.mycolle.explain().help() - show explain help
	db.mycolle.reIndex()
	db.mycolle.find([query],[fields]) - query is an optional query filter. fields is optional set of fields to return.
	                                              e.g. db.mycolle.find( {x:77} , {name:1, x:1} )
	db.mycolle.find(...).count()
	db.mycolle.find(...).limit(n)
	db.mycolle.find(...).skip(n)
	db.mycolle.find(...).sort(...)
	db.mycolle.findOne([query], [fields], [options], [readConcern])
	db.mycolle.findOneAndDelete( filter, <optional params> ) - delete first matching document, optional parameters are: projection, sort, maxTimeMS
	db.mycolle.findOneAndReplace( filter, replacement, <optional params> ) - replace first matching document, optional parameters are: projection, sort, maxTimeMS, upsert, returnNewDocument
	db.mycolle.findOneAndUpdate( filter, update, <optional params> ) - update first matching document, optional parameters are: projection, sort, maxTimeMS, upsert, returnNewDocument
	db.mycolle.getDB() get DB object associated with collection
	db.mycolle.getPlanCache() get query plan cache associated with collection
	db.mycolle.getIndexes()
	db.mycolle.group( { key : ..., initial: ..., reduce : ...[, cond: ...] } )
	db.mycolle.insert(obj)
	db.mycolle.insertOne( obj, <optional params> ) - insert a document, optional parameters are: w, wtimeout, j
	db.mycolle.insertMany( [objects], <optional params> ) - insert multiple documents, optional parameters are: w, wtimeout, j
	db.mycolle.mapReduce( mapFunction , reduceFunction , <optional params> )
	db.mycolle.aggregate( [pipeline], <optional params> ) - performs an aggregation on a collection; returns a cursor
	db.mycolle.remove(query)
	db.mycolle.replaceOne( filter, replacement, <optional params> ) - replace the first matching document, optional parameters are: upsert, w, wtimeout, j
	db.mycolle.renameCollection( newName , <dropTarget> ) renames the collection.
	db.mycolle.runCommand( name , <options> ) runs a db command with the given name where the first param is the collection name
	db.mycolle.save(obj)
	db.mycolle.stats({scale: N, indexDetails: true/false, indexDetailsKey: <index key>, indexDetailsName: <index name>})
	db.mycolle.storageSize() - includes free space allocated to this collection
	db.mycolle.totalIndexSize() - size in bytes of all the indexes
	db.mycolle.totalSize() - storage allocated for all data and indexes
	db.mycolle.update( query, object[, upsert_bool, multi_bool] ) - instead of two flags, you can pass an object with fields: upsert, multi
	db.mycolle.updateOne( filter, update, <optional params> ) - update the first matching document, optional parameters are: upsert, w, wtimeout, j
	db.mycolle.updateMany( filter, update, <optional params> ) - update all matching documents, optional parameters are: upsert, w, wtimeout, j
	db.mycolle.validate( <full> ) - SLOW
	db.mycolle.getShardVersion() - only for use with sharding
	db.mycolle.getShardDistribution() - prints statistics about data distribution in the cluster
	db.mycolle.getSplitKeysForChunks( <maxChunkSize> ) - calculates split points over all chunks and returns splitter function
	db.mycolle.getWriteConcern() - returns the write concern used for any operations on this collection, inherited from server/db if set
	db.mycolle.setWriteConcern( <write concern doc> ) - sets the write concern for writes to the collection
	db.mycolle.unsetWriteConcern( <write concern doc> ) - unsets the write concern for writes to the collection
> help
	db.help()                    help on db methods
	db.mycoll.help()             help on collection methods
	sh.help()                    sharding helpers
	rs.help()                    replica set helpers
	help admin                   administrative help
	help connect                 connecting to a db help
	help keys                    key shortcuts
	help misc                    misc things to know
	help mr                      mapreduce

	show dbs                     show database names
	show collections             show collections in current database
	show users                   show users in current database
	show profile                 show most recent system.profile entries with time >= 1ms
	show logs                    show the accessible logger names
	show log [name]              prints out the last segment of log in memory, 'global' is default
	use <db_name>                set current database
	db.foo.find()                list objects in collection foo
	db.foo.find( { a : 1 } )     list objects in foo where a == 1
	it                           result of the last line evaluated; use to further iterate
	DBQuery.shellBatchSize = x   set default number of items to display on shell
	exit                         quit the mongo shell
> db.firstClass.save({"name":"liu", "age": 8, "date": Date()})
WriteResult({ "nInserted" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 20, "score" : 100 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaosi", "age" : 8 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.update({"name": "zhaosi"}, {$set: {"name":"zhaowu", "age": 18}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.update({"name": "sun"}, {$inc: {"age": 5, "score": -10}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25, "score" : 90 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaowu", "age" : 18 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.update({"name": "sun"}, {$unset: {"score": 1}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaowu", "age" : 18 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.update({"name":"lisi"}, {$push: {"hobby": "play"}})
WriteResult({ "nMatched" : 0, "nUpserted" : 0, "nModified" : 0 })
> db.firstClass.update({"name":"lisi"}, {$push: {"hobby": "play"}})
WriteResult({ "nMatched" : 0, "nUpserted" : 0, "nModified" : 0 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaowu", "age" : 18 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.update({"name":"lisi"}, {$push: {"hobby": "play"}})
WriteResult({ "nMatched" : 0, "nUpserted" : 0, "nModified" : 0 })
> db.firstClass.update({"name":"lili"}, {$push: {"hobby": "play"}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep", "play" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaowu", "age" : 18 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.update({"name":"zhaowu"}, {$set:{"name": "zhaoliu"}, $inc: {"age": 2}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep", "play" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.update({"name":"lili"},{$pushAll: {"hobby": ["one", "two"]}} )
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep", "play", "one", "two" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.update({"name":"lili"},{$pop: {"hobby": 1}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep", "play", "one" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.update({"name":"lili"},{$pop: {"hobby": -1}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "hobby" : [ "write", "sleep", "play", "one" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.update({"name":"lili"},{$pull: {"hobby": "sleep"}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "hobby" : [ "write", "play", "one" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.update({"name":"lili"},{$pushAll: {"hobby": ["sleep", "sleep"]}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "hobby" : [ "write", "play", "one", "sleep", "sleep" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.update({"name":"lili"},{$pull: {"hobby": "sleep"}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "hobby" : [ "write", "play", "one" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.update({"name":"lili"},{$pullAll: {"hobby": ["write", "one"]}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "hobby" : [ "play" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.update({"name":"lili"},{$rename: {"hobby": "aihao"}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "aihao" : [ "play" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.update({"name":"lili"},{$addToSet: {"aihao": "play"})
... ^C

> db.firstClass.update({"name":"lili"},{$addToSet: {"aihao": "play"}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 0 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "aihao" : [ "play" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.update({"name":"lili"},{$addToSet: {"aihao": "read"}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58043ec6ca62f4e1c6277a5f"), "name" : "lili", "age" : 40, "aihao" : [ "play", "read" ] }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> 
> db.firstClass.remove({"age":40}, 1)
WriteResult({ "nRemoved" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58043f09ca62f4e1c6277a60"), "name" : "lili", "age" : 40, "hobby" : [ "read", "write", "sleep" ], "address" : { "country" : "china", "city" : "beijing" } }
{ "_id" : ObjectId("58044283428f947c078fa6d3"), "name" : "xiaoming", "age" : 40 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.remove({"age":40})
WriteResult({ "nRemoved" : 2 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.find({"age": {$lt: 10}})
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.find({"age": {$lt: 30}})
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.find({"age": {$gt: 10}})
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
> db.firstClass.find({"age": {$ne: 10}})
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.find({"age": 10})
> db.firstClass.find({"age": {$mod:[10,0]}})
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
> db.firstClass.find({"age": {$mod:[10,5]}})
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
> db.firstClass.find({"age": {$not: {$mod:[10,0]}}})
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
> db.firstClass.insert({"name":"linux", "age":22, "hobby":["one", "two", "three]})
2016-10-17T15:02:13.793+0800 E QUERY    [thread1] SyntaxError: unterminated string literal @(shell):1:71

> db.firstClass.insert({"name":"linux", "age":22, "hobby":["one", "two", "three"]})
WriteResult({ "nInserted" : 1 })
> db.firstClass.insert({"name":"ubuntu", "age":22, "hobby":["read", "write", "play"]})
WriteResult({ "nInserted" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
> db.firstClass.find({"hobby": {$all:["one", "two"]}})
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
> db.firstClass.insert({"name":"redhat", "age":22, "hobby":["read", "write", "play", "one"]})
WriteResult({ "nInserted" : 1 })
> db.firstClass.find({"hobby": {$all:["one"]}})
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "name" : "redhat", "age" : 22, "hobby" : [ "read", "write", "play", "one" ] }
> db.firstClass.find({"hobby": {$all:["one", "two"]}})
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
> db.firstClass.find({"hobby": {$size: 3}})
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
> db.firstClass.find({"hobby": {$size: 2}})
> db.firstClass.find().pretty()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{
	"_id" : ObjectId("58043dedca62f4e1c6277a5d"),
	"name" : "zhangsan",
	"age" : 35
}
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{
	"_id" : ObjectId("580443b5ca62f4e1c6277a61"),
	"name" : "zhaoliu",
	"age" : 20
}
{
	"_id" : ObjectId("58044711ca62f4e1c6277a62"),
	"name" : "liu",
	"age" : 8,
	"date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)"
}
{
	"_id" : ObjectId("5804777fca62f4e1c6277a63"),
	"name" : "linux",
	"age" : 22,
	"hobby" : [
		"one",
		"two",
		"three"
	]
}
{
	"_id" : ObjectId("58047799ca62f4e1c6277a64"),
	"name" : "ubuntu",
	"age" : 22,
	"hobby" : [
		"read",
		"write",
		"play"
	]
}
{
	"_id" : ObjectId("58047803ca62f4e1c6277a65"),
	"name" : "redhat",
	"age" : 22,
	"hobby" : [
		"read",
		"write",
		"play",
		"one"
	]
}
> db.firstClass.find({"name":"liu", "age":8}).pretty()
{
	"_id" : ObjectId("58044711ca62f4e1c6277a62"),
	"name" : "liu",
	"age" : 8,
	"date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)"
}
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "name" : "redhat", "age" : 22, "hobby" : [ "read", "write", "play", "one" ] }
> db.firstClass.find({$or:[{"age":25},{"age":35},{"age": 20}]})
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
> db.firstClass.find({$or:[{"age":25},{"name":"linux"}]})
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
> db.firstClass.find({"age": 22, $or:[{"name":"linux"},{"name":"ubuntu"}]})
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
> db.firstClass.find({"age": 22, $or:[{"name":"linux"},{"name":"ubuntu"}]}).pretty()
{
	"_id" : ObjectId("5804777fca62f4e1c6277a63"),
	"name" : "linux",
	"age" : 22,
	"hobby" : [
		"one",
		"two",
		"three"
	]
}
{
	"_id" : ObjectId("58047799ca62f4e1c6277a64"),
	"name" : "ubuntu",
	"age" : 22,
	"hobby" : [
		"read",
		"write",
		"play"
	]
}
> db.firstClass.find({"age": 22, $or:[{"name":"linux"},{"name":"ubuntu"}]}).pretty()
{
	"_id" : ObjectId("5804777fca62f4e1c6277a63"),
	"name" : "linux",
	"age" : 22,
	"hobby" : [
		"one",
		"two",
		"three"
	]
}
{
	"_id" : ObjectId("58047799ca62f4e1c6277a64"),
	"name" : "ubuntu",
	"age" : 22,
	"hobby" : [
		"read",
		"write",
		"play"
	]
}
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "name" : "redhat", "age" : 22, "hobby" : [ "read", "write", "play", "one" ] }
> db.firstClass.find().limit(3)
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
> db.firstClass.find().skip(2)
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "name" : "redhat", "age" : 22, "hobby" : [ "read", "write", "play", "one" ] }
> db.firstClass.find().skip(3)
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "name" : "redhat", "age" : 22, "hobby" : [ "read", "write", "play", "one" ] }
> db.firstClass.find().count()
8
> db.firstClass.find({"age": 22}).count()
3
> db.firstClass.find().sort({"age": 1})
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "name" : "redhat", "age" : 22, "hobby" : [ "read", "write", "play", "one" ] }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
> db.firstClass.find().sort({"age": -1})
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "name" : "redhat", "age" : 22, "hobby" : [ "read", "write", "play", "one" ] }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
> db.firstClass.find().sort({"name": 1})
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "name" : "redhat", "age" : 22, "hobby" : [ "read", "write", "play", "one" ] }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
> db.firstClass.find().sort({"name": -1})
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "name" : "redhat", "age" : 22, "hobby" : [ "read", "write", "play", "one" ] }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
> db.firstClass.find().sort({"age": 1})
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "name" : "redhat", "age" : 22, "hobby" : [ "read", "write", "play", "one" ] }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
> db.firstClass.find().sort({"age": 1, "name": -1})
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "name" : "redhat", "age" : 22, "hobby" : [ "read", "write", "play", "one" ] }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
> db.firstClass.find().sort({"age": 1, "name": 1})
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "name" : "redhat", "age" : 22, "hobby" : [ "read", "write", "play", "one" ] }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
> db.firstClass.find({}, {"age":1})
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c") }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "age" : 25 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "age" : 8 }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "age" : 22 }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "age" : 22 }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "age" : 22 }
> db.firstClass.find({}, {"age":1, "name":1})
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c") }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8 }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22 }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22 }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "name" : "redhat", "age" : 22 }
> db.firstClass.find({}, {"age":1, "name":1, "hobby":1})
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c") }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8 }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "name" : "redhat", "age" : 22, "hobby" : [ "read", "write", "play", "one" ] }
> 

> 
> 
> db.firstClass.ensureIndex({"age": 1})
{
	"createdCollectionAutomatically" : false,
	"numIndexesBefore" : 1,
	"numIndexesAfter" : 2,
	"ok" : 1
}
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "name" : "redhat", "age" : 22, "hobby" : [ "read", "write", "play", "one" ] }
> db.firstClass.find({"age": 22})
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "name" : "redhat", "age" : 22, "hobby" : [ "read", "write", "play", "one" ] }
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "name" : "redhat", "age" : 22, "hobby" : [ "read", "write", "play", "one" ] }
> db.firstClass.ensureIndex({"name":1}, {"unique": true})
{
	"createdCollectionAutomatically" : false,
	"numIndexesBefore" : 2,
	"numIndexesAfter" : 3,
	"ok" : 1
}
> db.firstClass.insert({"name":"zhangsan", "age":2})
WriteResult({
	"nInserted" : 0,
	"writeError" : {
		"code" : 11000,
		"errmsg" : "E11000 duplicate key error collection: stu.firstClass index: name_1 dup key: { : \"zhangsan\" }"
	}
})
> db.firstClass.drop
db.firstClass.drop(         db.firstClass.dropIndex(    db.firstClass.dropIndexes(
> db.firstClass.dropIndexes()
{
	"nIndexesWas" : 3,
	"msg" : "non-_id indexes dropped for collection",
	"ok" : 1
}
> db.firstClass.insert({"name":"zhangsan", "age":2})
WriteResult({ "nInserted" : 1 })
> db.firstClass.count()
9
> db.firstClass.count({"age": 35})
1
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "name" : "redhat", "age" : 22, "hobby" : [ "read", "write", "play", "one" ] }
{ "_id" : ObjectId("58048ac1ca62f4e1c6277a67"), "name" : "zhangsan", "age" : 2 }
> db.firstClass.aggregate([{$group: {_id:"$age", num: {$sum: 1}}}])
{ "_id" : 2, "num" : 1 }
{ "_id" : 22, "num" : 3 }
{ "_id" : 8, "num" : 1 }
{ "_id" : null, "num" : 1 }
{ "_id" : 35, "num" : 1 }
{ "_id" : 25, "num" : 1 }
{ "_id" : 20, "num" : 1 }
> db.firstClass.aggregate([{$group: {_id:"$name", num: {$sum: 1}}}])
{ "_id" : "redhat", "num" : 1 }
{ "_id" : "ubuntu", "num" : 1 }
{ "_id" : "linux", "num" : 1 }
{ "_id" : "liu", "num" : 1 }
{ "_id" : null, "num" : 1 }
{ "_id" : "sun", "num" : 1 }
{ "_id" : "zhangsan", "num" : 2 }
{ "_id" : "zhaoliu", "num" : 1 }
> db.firstClass.aggregate([{$group: {_id:"$name", count: {$sum: 1}}}])
{ "_id" : "redhat", "count" : 1 }
{ "_id" : "ubuntu", "count" : 1 }
{ "_id" : "linux", "count" : 1 }
{ "_id" : "liu", "count" : 1 }
{ "_id" : null, "count" : 1 }
{ "_id" : "sun", "count" : 1 }
{ "_id" : "zhangsan", "count" : 2 }
{ "_id" : "zhaoliu", "count" : 1 }
> db.firstClass.insert({"name":"linux", "age": 22})
WriteResult({ "nInserted" : 1 })
> db.firstClass.insert({"name":"ubuntu", "age": 24})
WriteResult({ "nInserted" : 1 })
> db.firstClass.insert({"name":"liu, "age": 24})
2016-10-17T16:39:05.726+0800 E QUERY    [thread1] SyntaxError: missing } after property list @(shell):1:36

> db.firstClass.insert({"name":"liu", "age": 24})
WriteResult({ "nInserted" : 1 })
> db.firstClass.find()
{ "_id" : ObjectId("58043dbfca62f4e1c6277a5c"), "gender" : "male" }
{ "_id" : ObjectId("58043dedca62f4e1c6277a5d"), "name" : "zhangsan", "age" : 35 }
{ "_id" : ObjectId("58043e56ca62f4e1c6277a5e"), "name" : "sun", "age" : 25 }
{ "_id" : ObjectId("580443b5ca62f4e1c6277a61"), "name" : "zhaoliu", "age" : 20 }
{ "_id" : ObjectId("58044711ca62f4e1c6277a62"), "name" : "liu", "age" : 8, "date" : "Mon Oct 17 2016 11:35:45 GMT+0800 (CST)" }
{ "_id" : ObjectId("5804777fca62f4e1c6277a63"), "name" : "linux", "age" : 22, "hobby" : [ "one", "two", "three" ] }
{ "_id" : ObjectId("58047799ca62f4e1c6277a64"), "name" : "ubuntu", "age" : 22, "hobby" : [ "read", "write", "play" ] }
{ "_id" : ObjectId("58047803ca62f4e1c6277a65"), "name" : "redhat", "age" : 22, "hobby" : [ "read", "write", "play", "one" ] }
{ "_id" : ObjectId("58048ac1ca62f4e1c6277a67"), "name" : "zhangsan", "age" : 2 }
{ "_id" : ObjectId("58048e17ca62f4e1c6277a68"), "name" : "linux", "age" : 22 }
{ "_id" : ObjectId("58048e23ca62f4e1c6277a69"), "name" : "ubuntu", "age" : 24 }
{ "_id" : ObjectId("58048e36ca62f4e1c6277a6a"), "name" : "liu", "age" : 24 }
> db.firstClass.aggregate([{$group:{_id:"$name", num:{$sum:"$age"}}])
... ^C

> db.firstClass.aggregate([{$group:{_id:"$name", num:{$sum: "$age"}}}])
{ "_id" : "redhat", "num" : 22 }
{ "_id" : "ubuntu", "num" : 46 }
{ "_id" : "linux", "num" : 44 }
{ "_id" : "liu", "num" : 32 }
{ "_id" : null, "num" : 0 }
{ "_id" : "sun", "num" : 25 }
{ "_id" : "zhangsan", "num" : 37 }
{ "_id" : "zhaoliu", "num" : 20 }
> db.firstClass.aggregate([{$group:{_id:"$name", num:{$avg: "$age"}}}])
{ "_id" : "redhat", "num" : 22 }
{ "_id" : "ubuntu", "num" : 23 }
{ "_id" : "linux", "num" : 22 }
{ "_id" : "liu", "num" : 16 }
{ "_id" : null, "num" : null }
{ "_id" : "sun", "num" : 25 }
{ "_id" : "zhangsan", "num" : 18.5 }
{ "_id" : "zhaoliu", "num" : 20 }
> db.firstClass.aggregate([{$group:{_id:null, num:{$avg: "$age"}}}])
{ "_id" : null, "num" : 20.545454545454547 }
> db.firstClass.aggregate([{$group:{_id:null, num:{$min: "$age"}}}])
{ "_id" : null, "num" : 2 }
> db.firstClass.aggregate([{$group:{_id:"$name", num:{$min: "$age"}}}])
{ "_id" : "redhat", "num" : 22 }
{ "_id" : "ubuntu", "num" : 22 }
{ "_id" : "linux", "num" : 22 }
{ "_id" : "liu", "num" : 8 }
{ "_id" : null, "num" : null }
{ "_id" : "sun", "num" : 25 }
{ "_id" : "zhangsan", "num" : 2 }
{ "_id" : "zhaoliu", "num" : 20 }
> 

